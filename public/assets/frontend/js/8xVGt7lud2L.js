if (self.CavalryLogger) { CavalryLogger.start_js(["AiKYip6"]); }

__d("debounceCore",["TimeSlice"],(function(a,b,c,d,e,f){e.exports=a;function a(a,c,d,e,f,g){d===void 0&&(d=null);e===void 0&&(e=setTimeout);f===void 0&&(f=clearTimeout);g===void 0&&(g=!1);var h,i=!0;function j(){for(var k=arguments.length,l=new Array(k),m=0;m<k;m++)l[m]=arguments[m];var n;if(g){n=b("TimeSlice").guard(function(){i=!0,h=null},"debounceCore");if(!i){f(h);h=e(n,c);return}i=!1;a.apply(d,l)}else j.reset(),n=b("TimeSlice").guard(function(){h=null,a.apply(d,l)},"debounceCore");n.__SMmeta=a.__SMmeta;h=e(n,c)}j.reset=function(){f(h),h=null,i=!0};j.isPending=function(){return h!=null};return j}}),null);
__d("debounce",["clearTimeout","debounceCore","setTimeout"],(function(a,b,c,d,e,f){e.exports=a;function a(a,c,d,e,f){c===void 0&&(c=100);var g=function(a,c,d){return b("setTimeout")(a,c,d,!e)};return b("debounceCore")(a,c,d,g,b("clearTimeout"),f)}}),null);
__d("RequestStreamCommonRequestStreamCommonTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";c=(a=b("$InternalEnum"))({Accepted:1,Started:2,Stopped:3});d=a({Rejected:40,Error:50,TryAgain:80,Closed:99});f=a({BestEffort:0,Socket:10,Device:20});b=a({Flow_status:"flow_status",Log:"log",Rewrite:"rewrite",Data:"data",Termination:"termination",Amend_ack:"amend_ack"});e.exports={AckLevel:f,FlowStatus:c,StreamResponseDelta$Types:b,TerminationReason:d}}),null);
__d("RequestStreamHandler",["FBLogger","RequestStreamCommonRequestStreamCommonTypes"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){var b=a.onData,c=a.onTermination,d=a.onLog;a=a.onFlowStatus;this.$1=b||function(a){};this.$2=c||function(a){};this.$3=d||function(a){};this.$4=a;this.$5=!1}var c=a.prototype;c.onFlowStatus=function(a){this.$4(a),a===b("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Started&&(this.$5=!0)};c.onData=function(a){this.$5?this.$1(a):b("FBLogger")("requeststream-web").warn("get data before stream startting")};c.onTermination=function(a){this.$2(new Error(""+a))};c.onLog=function(a){this.$3(a)};return a}();e.exports=a}),null);
__d("TransportSelectionClientRolloutResolver",["DGWWebConfig","gkx"],(function(a,b,c,d,e,f){"use strict";f.enableTransportSelectingClientForLQ=a;f.enableTransportSelectingClientForGQLS=c;f.enableDGWRequestStreamClient=d;var g="2220391788200892",h="1586666294789976",i=[{gk:function(){return b("gkx")("1911140")},use_cases:new Set(["relay_recruiting_requisitions","gemini_meetings_tab_list","rtc_web_vcl_update_query"])}];function a(a){if(a==null||!b("gkx")("1952569"))return!1;for(var c=0;c<i.length;c++){var d=i[c];if(d.use_cases!=null&&d.use_cases.has(a))return d.gk()}return b("gkx")("1935313")}var j=[{gk:function(){return b("gkx")("1911141")},methods:new Set(["FBGQLS:FEEDBACK_LIKE_SUBSCRIBE"])}];function c(a){if(!b("gkx")("1952569"))return!1;for(var c=0;c<j.length;c++){var d=j[c];if(d.methods!=null&&d.methods.has(a))return d.gk()}return b("gkx")("1936005")}var k=[{gk:function(){return b("gkx")("1952361")},use_cases:new Set(["FBLQ:comet_relay_live_shopping_inventories"])},{gk:function(){return b("gkx")("1956158")},use_cases:new Set(["FBGQLS:FEEDBACK_LIKE_SUBSCRIBE"])}];function d(a){if(!b("gkx")("1952569")||b("DGWWebConfig").appId!==g&&b("DGWWebConfig").appId!==h)return!1;for(var c=0;c<k.length;c++){var d=k[c];if(d.use_cases!=null&&d.use_cases.has(a))return d.gk()}return!1}}),null);
__d("TransportSelectingClient",["BladeRunnerDeferredClient","BladeRunnerInstrumentedStreamHandler","BladeRunnerStreamHandler","BladeRunnerTypes","RequestStreamCommonRequestStreamCommonTypes","RequestStreamHandler","TransportSelectionClientRolloutResolver","cr:1987488","regeneratorRuntime"],(function(a,b,c,d,e,f){a=function(){function a(){}var c=a.prototype;c.requestStream=function(a,c,d,e){var f,i,j,k;return b("regeneratorRuntime").async(function(l){while(1)switch(l.prev=l.next){case 0:f=new(b("RequestStreamHandler"))(d);if(!(b("cr:1987488")!=null&&b("TransportSelectionClientRolloutResolver").enableDGWRequestStreamClient(g(a)))){l.next=8;break}l.next=4;return b("regeneratorRuntime").awrap(b("cr:1987488").requestStream(a,c,f,null,e));case 4:i=l.sent;return l.abrupt("return",i);case 8:l.next=10;return b("regeneratorRuntime").awrap(b("BladeRunnerDeferredClient").requestStream(a,c,h(f,(j=a.method)!=null?j:"unknown"),e));case 10:k=l.sent;return l.abrupt("return",k);case 12:case"end":return l.stop()}},null,this)};return a}();function g(a){var b;b=(b=a.method)!=null?b:"unknown";return b==="FBLQ"&&a.config_id?"FBLQ:"+a.config_id:b}function h(a,c){if(!c.startsWith("FBGQLS")&&!c.startsWith("FBLQ"))throw new Error("TransportSelectingClient does not support method: "+c);var d=function(c){switch(c){case b("BladeRunnerTypes").StreamStatus.ACCEPTED:a.onFlowStatus(b("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Accepted);break;case b("BladeRunnerTypes").StreamStatus.STARTED:a.onFlowStatus(b("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Started);break;case b("BladeRunnerTypes").StreamStatus.PAUSED:a.onFlowStatus(b("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Stopped);break;case b("BladeRunnerTypes").StreamStatus.CLOSED:a.onTermination("Query failed");break;case b("BladeRunnerTypes").StreamStatus.REJECTED:a.onTermination("Query got rejected");break}};d=new(b("BladeRunnerStreamHandler"))(function(b){return a.onData(b)},null,d,function(b){return a.onLog(b)},null);if(c.startsWith("FBGQLS"))return new(b("BladeRunnerInstrumentedStreamHandler"))(d,c);else return d}c=new a();e.exports=c}),null);
__d("ServerTime",["InitialServerTime"],(function(a,b,c,d,e,f){d(b("InitialServerTime").serverTime);var g;function a(){return Date.now()-g}function c(){return g}function d(a){g=Date.now()-a}e.exports={getMillis:a,getOffsetMillis:c,update:d,get:a,getSkew:c}}),null);
__d("GQLSManager",["BladeRunnerAllowList","BladeRunnerDeferredClient","BladeRunnerInstrumentedStreamHandler","BladeRunnerStreamHandler","BladeRunnerTypes","Bootloader","Promise","RequestStreamCommonRequestStreamCommonTypes","StreamStateMachineConstants","TransportSelectingClient","TransportSelectionClientRolloutResolver","nullthrows","promiseDone","regeneratorRuntime","requireDeferred"],(function(a,b,c,d,e,f){var g="request_stream",h="mqtt_skywalker",i=babelHelpers["extends"]({},b("StreamStateMachineConstants").events,{GQLS_STATE_TRANSIT_ON_REJECT:"onReject"});a=function(){function a(){}var c=a.prototype;c.subscribeViaRequestStreamWithMobileStyleTopicTransform=function(a,c,d){d===void 0&&(d={});var e=this.$3(b("BladeRunnerAllowList").getGqlsMethodNameFromUseCase(a),null,c,d);b("promiseDone")(e);return{getTopic:function(){var a=new Error("Unimplemented getTopic called for mobile style GQLS");a.stack;throw a},getContext:function(){var a=new Error("Unimplemented getContext called for mobile style GQLS");a.stack;throw a},isUnsubscribed:function(){return this.$4},unsubscribe:function(){this.$4=!0;return e.then(function(a){return a.unsubscribe()})},$4:!1}};c.subscribe=function(a,c,d){d===void 0&&(d={});var e=this.$5(a,c,d);b("promiseDone")(e);return{getTopic:function(){return a},getContext:function(){return d.context},isUnsubscribed:function(){return this.$4},unsubscribe:function(){this.$4=!0;return e.then(function(a){return a.unsubscribe()})},$4:!1}};c.once=function(a,b,c){c===void 0&&(c={});var d=this.subscribe(a,function(){d.isUnsubscribed()||(d.unsubscribe(),b.apply(this,arguments))},c);return d};c.getSubscriptionType=function(a,b){if(this.$6(a))return g;return b!=null&&b.headers!=null?g:h};c.$5=function(a,c,d){var e,f;return b("regeneratorRuntime").async(function(h){while(1)switch(h.prev=h.next){case 0:e=this.getSubscriptionType(a,d);if(!(e===g)){h.next=7;break}f=d.headers!=null?d.headers.method:null;f==null&&(f=b("BladeRunnerAllowList").getRequestStreamMethodIfSupported(a));return h.abrupt("return",this.$3(b("nullthrows")(f),a,c,d));case 7:return h.abrupt("return",this.$7(a,c,d));case 8:case"end":return h.stop()}},null,this)};c.$7=function(a,c,d){var e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:f.next=2;return b("regeneratorRuntime").awrap(this.$8());case 2:e=f.sent;return f.abrupt("return",e.subscribe(a,function(a){return c(babelHelpers["extends"]({},a))},d));case 4:case"end":return f.stop()}},null,this)};c.$6=function(a){return b("BladeRunnerAllowList").getRequestStreamMethodIfSupported(a)!=null};c.$3=function(a,c,d,e){var f,g,h,j,k,l,m,n;return b("regeneratorRuntime").async(function(o){while(1)switch(o.prev=o.next){case 0:o.next=2;return b("regeneratorRuntime").awrap(this.$9());case 2:f=o.sent;g=f.patchContext(e.context);h=Object.assign({},e.headers,{method:a});c!=null&&(h.topic=c);k=function(a){var b=JSON.parse(a);if(Object.prototype.hasOwnProperty.call(b,"payload")&&Object.prototype.hasOwnProperty.call(b,"topic")){var e=c!=null?c:b.topic;d({topic:e,payload:b.payload})}else d(a)};l=function(a){};if(b("TransportSelectionClientRolloutResolver").enableTransportSelectingClientForGQLS(a)){o.next=14;break}o.next=11;return b("regeneratorRuntime").awrap(b("BladeRunnerDeferredClient").requestStream(h,JSON.stringify(g),new(b("BladeRunnerInstrumentedStreamHandler"))(new(b("BladeRunnerStreamHandler"))(k,null,function(a){if(e.gqlsLifecycleHandler){var c="";switch(a){case b("BladeRunnerTypes").StreamStatus.ACCEPTED:c=i.GQLS_STATE_TRANSIT_ON_CREATE;break;case b("BladeRunnerTypes").StreamStatus.REJECTED:c=i.GQLS_STATE_TRANSIT_ON_REJECT;break;case b("BladeRunnerTypes").StreamStatus.STARTED:c=i.GQLS_STATE_TRANSIT_ON_ACTIVE;break;case b("BladeRunnerTypes").StreamStatus.PAUSED:c=i.GQLS_STATE_TRANSIT_ON_PAUSE;break;case b("BladeRunnerTypes").StreamStatus.CLOSED:c=i.GQLS_STATE_TRANSIT_ON_TERMINATE;break}e.gqlsLifecycleHandler(c)}},l),a),e.instrumentationData));case 11:j=o.sent;o.next=19;break;case 14:m=function(a){switch(a){case b("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Accepted:e.gqlsLifecycleHandler&&e.gqlsLifecycleHandler(i.GQLS_STATE_TRANSIT_ON_CREATE);break;case b("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Started:e.gqlsLifecycleHandler&&e.gqlsLifecycleHandler(i.GQLS_STATE_TRANSIT_ON_ACTIVE);break;case b("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Stopped:e.gqlsLifecycleHandler&&e.gqlsLifecycleHandler(i.GQLS_STATE_TRANSIT_ON_PAUSE);break}};n={onData:k,onTermination:function(a){var b;a.message=="Query failed"&&(b=i.GQLS_STATE_TRANSIT_ON_TERMINATE);a.message=="Query got rejected"&&(b=i.GQLS_STATE_TRANSIT_ON_REJECT);e.gqlsLifecycleHandler&&b!=null&&e.gqlsLifecycleHandler(b)},onLog:l,onFlowStatus:m};o.next=18;return b("regeneratorRuntime").awrap(b("TransportSelectingClient").requestStream(h,JSON.stringify(g),n,e.instrumentationData));case 18:j=o.sent;case 19:e.onSubscribe&&e.onSubscribe({data:{},error:null});return o.abrupt("return",{unsubscribe:function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:e.onUnsubscribeEager&&e.onUnsubscribeEager(),j.cancel(),e.onUnsubscribe&&e.onUnsubscribe({data:{},error:null});case 3:case"end":return a.stop()}},null,this)}});case 21:case"end":return o.stop()}},null,this)};c.$8=function(){var a,c;return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:if(!(this.$1!=null)){d.next=2;break}return d.abrupt("return",this.$1);case 2:a=new(b("Promise"))(function(a){b("Bootloader").loadModules(["MqttSkywalkerManager"],a,"GQLSManager")});d.next=5;return b("regeneratorRuntime").awrap(a);case 5:c=d.sent;this.$1=c;return d.abrupt("return",c);case 8:case"end":return d.stop()}},null,this)};c.$9=function(){var a,c;return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:if(!(this.$2!=null)){d.next=2;break}return d.abrupt("return",this.$2);case 2:a=new(b("Promise"))(function(a){b("requireDeferred")("SkywalkerUtils").onReady(function(b){a(b)})});d.next=5;return b("regeneratorRuntime").awrap(a);case 5:c=d.sent;this.$2=c;return d.abrupt("return",c);case 8:case"end":return d.stop()}},null,this)};return a}();c=new a();e.exports=c}),null);
__d("throttle",["TimeSlice","TimeSliceInteractionSV","setTimeout","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){function a(a,c,d){return g(a,c,d,b("setTimeout"),!1)}Object.assign(a,{acrossTransitions:function(a,c,d){return g(a,c,d,b("setTimeoutAcrossTransitions"),!1)},withBlocking:function(a,c,d){return g(a,c,d,b("setTimeout"),!0)},acrossTransitionsWithBlocking:function(a,c,d){return g(a,c,d,b("setTimeoutAcrossTransitions"),!0)}});function g(a,c,d,e,f){var g=c==null?100:c,h,i,j=0,k=null,l=[],m=b("TimeSlice").guard(function(){j=Date.now();if(i){var b=function(b){a.apply(h,b)}.bind(null,i),c=l.length;while(--c>=0)b=l[c].bind(null,b);l=[];b();i=null;k=e(m,g)}else k=null},"throttle_"+g+"_ms",{propagationType:b("TimeSlice").PropagationType.EXECUTION,registerCallStack:!0});m.__SMmeta=a.__SMmeta;return function(){b("TimeSliceInteractionSV").ref_counting_fix&&l.push(b("TimeSlice").getGuardedContinuation("throttleWithContinuation")),i=arguments,h=this,d!==void 0&&(h=d),(k===null||Date.now()-j>g)&&(f?m():k=e(m,0))}}e.exports=a}),null);