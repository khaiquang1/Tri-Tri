if (self.CavalryLogger) { CavalryLogger.start_js(["PbZpQEM"]); }

__d("MessagingPluginDesktopWelcomeMessagePage.react",["cx","Arbiter","LiveChatPluginConstants","LiveChatPluginFbts","LiveChatPluginLoggerUtil","MPNLocalState","MPNNavigation","MPNWelcomeMessageMinusButtonSVG.react","MPNXDMessageManager","MessagingPluginContext","MessagingPluginPathUtils","ShimButton.react","react","useResizeObserver"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=h||b("react");function a(a){var c=i.useContext(b("MessagingPluginContext")),d=c.state,e=d.alignment,f=d.bottomSpacing,g=d.loggedInGreeting,h=d.pageID,j=d.serverTime,k=d.clientRequestTime;d=i.useState(!1);var l=d[0],m=d[1];d=i.useRef(null);var n=b("useResizeObserver")(function(a,c){a=c.clientHeight+12;b("MPNXDMessageManager").resizeIframe(a.toString())});i.useEffect(function(){var a=b("Arbiter").subscribe(b("LiveChatPluginConstants").NAVIGATE_TO_WELCOME_PAGE,function(a){m(!0),p()});return function(){a&&a.unsubscribe()}});i.useEffect(function(){b("LiveChatPluginLoggerUtil").logImpressionUsingXController(h,"bubble",j,null,null,null,null,k)},[h,k,j]);var o=function(){a.ActionDelegate&&a.ActionDelegate.minimize(),window.setTimeout(function(){var d;b("MPNNavigation").navigateToRoute(a.history,b("MPNLocalState").MPNLocalStatePath.WELCOME_PAGE);b("MPNXDMessageManager").setupDesktopIframe((d=e)!=null?d:"right",(d=f)!=null?d:0,b("MessagingPluginPathUtils").MPN_PATH.WELCOME,!1);d={path:b("MPNLocalState").MPNLocalStatePath.WELCOME_PAGE,chatState:b("MPNLocalState").MPNChatState.CHAT_NOT_STARTED,visibility:"hidden"};c.dispatchAction({type:"START_CHAT",optimisticStorageState:d})},100)},p=function(){window.setTimeout(function(){var d;b("MPNNavigation").navigateToRoute(a.history,b("MPNLocalState").MPNLocalStatePath.WELCOME_PAGE);b("MPNXDMessageManager").setupDesktopIframe((d=e)!=null?d:"right",(d=f)!=null?d:0,b("MessagingPluginPathUtils").MPN_PATH.WELCOME,!0);d={path:b("MPNLocalState").MPNLocalStatePath.WELCOME_PAGE,chatState:b("MPNLocalState").MPNChatState.CHAT_NOT_STARTED,visibility:"not-hidden"};c.dispatchAction({type:"START_CHAT",optimisticStorageState:d})},100)},q=e==="left"?"_9ptl":"_9ptk",r=e==="left"?"_9ptn":"_9ptm",s=e==="left"?"_9ptp":"_9pto";l=l?"_9po3":"_9po2";return i.jsxs("div",{className:l,ref:d,children:[i.jsx(b("ShimButton.react"),{onClick:function(){p(),b("LiveChatPluginLoggerUtil").logActionFromNewUI("tab_click",null,c.state.pageID,"plugin_icon",{opened_tab:"bubble"})},children:i.jsx("div",{"data-testid":void 0,className:q,ref:n,children:i.jsx("div",{className:r,children:g!=null?g:b("LiveChatPluginFbts").DEFAULT_LOGGED_IN_GREETING_TEXT.toString()})})}),i.jsx("div",{className:s,children:i.jsx(b("ShimButton.react"),{"data-testid":void 0,onClick:o,className:"_9pti",children:i.jsx(b("MPNWelcomeMessageMinusButtonSVG.react"),{})})})]})}}),null);
__d("LayerDestroyOnHide",["setTimeout"],(function(a,b,c,d,e,f){a=function(){function a(a){this._layer=a}var c=a.prototype;c.enable=function(){var a=this._layer.destroy.bind(this._layer);this._subscription=this._layer.subscribe("hide",function(){b("setTimeout")(a,0)})};c.disable=function(){this._subscription&&(this._subscription.unsubscribe(),this._subscription=null)};return a}();e.exports=a;Object.assign(a.prototype,{_subscription:null})}),null);
__d("LayerFadeOnHide",["invariant","CSSFade","Layer","SubscriptionsHandler","UserAgent_DEPRECATED","clearTimeout","emptyFunction","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){a=function(){function a(a){this._layer=a,this._subscriptionsHandler=new(b("SubscriptionsHandler"))()}var c=a.prototype;c.enable=function(){if(b("UserAgent_DEPRECATED").ie()<9)return;this._subscription=this._layer.subscribe("starthide",this._handleStartHide.bind(this))};c.disable=function(){this._subscription&&(this._subscription.unsubscribe(),this._subscription=null),this._subscriptionsHandler.release()};c._getDuration=function(){return 150};c._handleStartHide=function(){var a=!0,c=b("Layer").subscribe("show",function(){c.unsubscribe(),a=!1}),d=b("setTimeoutAcrossTransitions")(function(){var b=this;c.unsubscribe();c=null;var d=function(){b._layer.finishHide()};a?this._animate(d):d()}.bind(this),0);this._subscriptionsHandler.addSubscriptions({remove:function(){b("clearTimeout")(d)}});return!1};c._animate=function(a){var c=this._layer.getRoot();c!=null||g(0,70);b("CSSFade").hide(c,{callback:function(){a()},duration:this._getDuration()})};a.forDuration=function(c){var d=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(a);d.prototype._getDuration=b("emptyFunction").thatReturns(c);return d};return a}();e.exports=a;Object.assign(a.prototype,{_subscription:null})}),null);